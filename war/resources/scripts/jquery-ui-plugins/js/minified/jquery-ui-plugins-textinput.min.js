(function(a,b){a.widget("uiplugins.textinput",{options:{"allow":null,"blacklist":null,"filter":null,"stylize":false,"whitelist":null},_create:function(){var d=this;d._initFilters();var c=this.options.stylize?"ui-text ui-state-default ui-corner-all":"ui-text";this.element.addClass(c);this.element.bind("keydown",function(f){var e=d._isValidKeyPress(f);
if(!e.valid){d._trigger("keyEventSuppressed",f,{"key":e.key});}return e.valid;});},_isValidKeyPress:function(h){var e=true;var c=h.which;var d=(c>=a.ui.keyCode.SHIFT&&c<=a.ui.keyCode.CAPS_LOCK)||c==a.ui.keyCode.ESCAPE||(c>a.ui.keyCode.SPACE&&c<=a.ui.keyCode.DOWN)||c==a.ui.keyCode.INSERT||(c>=a.ui.keyCode.COMMAND&&c<=a.ui.keyCode.COMMAND_RIGHT)||(c>=a.ui.keyCode.NUM_LOCK&&c<=a.ui.keyCode.SCROLL_LOCK);
var g=c==0||c==a.ui.keyCode.BACKSPACE||c==a.ui.keyCode.DELETE||(h.ctrlKey&&c==a.ui.keyCode.A)||c==a.ui.keyCode.TAB;var f=a.ui.keyCode.keyCode2Char(h.keyCode,h.shiftKey);if(!(d||g)){if(this.filterRegex){e=!f.match(this.filterRegex);}if(this.whitelistRegex){e=e&&!f.match(this.whitelistRegex);}else{if(this.allowRegex){e=e||!f.match(this.allowRegex);
}}if(this.blacklistRegex){e=e&&!f.match(this.blacklistRegex);}}return{"valid":e,"key":f};},_initFilters:function(){switch(this.options.filter){case"numeric":this.filterRegex=new RegExp("[^0-9.]");break;case"digits":this.filterRegex=new RegExp("[^0-9]");break;case"alpha":this.filterRegex=new RegExp("[^a-zA-Z]");
break;}this.allowRegex=this._createCharsRegEx(this.options.allow,true);this.whitelistRegex=this._createCharsRegEx(this.options.whitelist,true);this.blacklistRegex=this._createCharsRegEx(this.options.blacklist,false);},_createCharsRegEx:function(d,e){var c=null;if(d&&d.length){if(d instanceof Array){d=d.join("");
}c=new RegExp("["+(e?"^":"")+d.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")+"]");}return c;},_setOption:function(c,d){a.Widget.prototype._setOption.apply(this,arguments);if(c=="stylize"){if(d&&d!=="false"){this.element.addClass("ui-state-default ui-corner-all");}else{this.element.removeClass("ui-state-default ui-corner-all");
}}else{this._initFilters();}},enable:function(){this.element.removeAttr("disabled");a.Widget.prototype.enable.call(this);this._trigger("enable",null,this.element);},disable:function(){this.element.attr("disabled","disabled");a.Widget.prototype.disable.call(this);this._trigger("disable",null,this.element);
},destroy:function(){this.element.removeClass("ui-text");this.element.unbind();}});})(jQuery);